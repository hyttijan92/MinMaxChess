name: Build and Deploy Docker images
run-name: Build and deploy docker imagesðŸš€
on: [push]
jobs:
  Build-and-Deploy-Docker-images:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: google-github-actions/auth@v0.4.0
        with:
          credentials_json: '${{ secrets.SERVICE_ACCOUNT_KEY}}'
      - run: cd ${{ github.workspace }}
      - run: cd chess-ui
      - run: docker build -t  ${{ vars.REGION }}-docker.pkg.dev/${{ vars.PROJECT_ID }}/minmax-repo/chess-ui:v1 .
      - run: docker push ${REGION}-docker.pkg.dev/${PROJECT_ID}/minmax-repo/chess-ui:v1